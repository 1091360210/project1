<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<title></title>
	<!--DO NOT FORGET THIS SCRIPT TAG SO YOU CAN USE JQUERY!!!!!-->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

	<script type="text/javascript">
        var contentPanels = ['logonPanel', 'homePanel'];
        var testName = "test";
        var testPass = "test";

		function TestButtonHandler() {
			var webMethod = "ProjectServices.asmx/TestConnection";
			var parameters = "{}";

			//jQuery ajax method
			$.ajax({
				type: "POST",
				url: webMethod,
				data: parameters,
				contentType: "application/json; charset=utf-8",
				dataType: "json",
				success: function (msg) {
					var responseFromServer = msg.d;
					alert(responseFromServer);
				},
				error: function (e) {
					alert("this code will only execute if javascript is unable to access the webservice");
				}
			});
        }

        // This function will be used when using database credentials
        function LogOn(username, pass) {
            var webMethod = "ProjectServices.asmx/LogOn";
            var parameters = "{\"uid\":\"" + encodeURI(username) + "\",\"pass\":\"" + encodeURI(pass) + "\"}";

            $.ajax({
                type: "POST",
                url: webMethod,
                data: parameters,
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (msg) {
                    var responseFromServer = msg.d;
                    if (responseFromServer == true) {
                        alert("Logged In");
                    }
                    else {
                        alert("Incorrect Credentials");
                    }
                },
                error: function () {
                    alert("Error");
                }
            })

        }

        function showPanel(panelId) {
            for (var i = 0; i < contentPanels.length; i++) {
                if (panelId == contentPanels[i]) {
                    $("#" + contentPanels[i].css('visibility', 'visible'));
                }
                else {
                    $("#" + contentPanels[i].css('visibility', 'hidden'));
                }
            }
        }

	</script>

	<style>
        #homePanel{
            visibility: hidden;
        }

        .logonBox {
            text-align: center;
        }

        button {
            width: 100px;
            margin: 5px;
        }


	</style>

</head >
<body>
    <div class="titleContainer"></div>
    
    <div class="contentContainer">
        <div id="logonPanel" class="contentPanel logonPanel">
            <div class="logonBox">
                <h1>Sign in!</h1>
                <hr />
                <div class="entryInfo">
                    <div>Username: </div>
                    <div><input type="text" id="logonId" /></div>
                </div>
                <div class="entryInfo">
                    <div>Password: </div>
                    <div><input type="password" id="logonPassword" /></div>
                </div>
                <hr />
                <div>
                    <button onclick="LogOn(document.getElementById('logonId').value, document.getElementById('logonPassword').value);">Log In</button>
                </div>
                <button onclick="LogOn(document.getElementById('logonId').value, document.getElementById('logonPassword').value);">Sign Up</button>
            </div>
        </div>
        <div id="homePanel">
            <h1>Logged In!</h1>
        </div>
    </div>

	<!--<button onclick="javascript: TestButtonHandler();">Click here to test connection!</button> -->
</body>
</html >
